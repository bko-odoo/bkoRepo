<odoo>
    <record id="teacher_ludo" model="res.partner">
        <field name="name">Ludovic Pintadaux</field>
        <field name="email">ludo@openacademy.org</field>
        <field name="instructor">True</field>
    </record>

    <record id="teacher_francis" model="res.partner">
        <field name="name">Francis Francois</field>
        <field name="email">francis@openacademy.org</field>
        <field name="instructor">True</field>
    </record>

    <record id="course_technical" model="openacademy.course">
        <field name="name">Technical Training</field>
        <field name="level" eval="2" />
    </record>

    <record id="course_functionnal" model="openacademy.course">
        <field name="name">Functionnal Training</field>
        <field name="responsible_id" ref="base.user_root" />
        <field name="level" eval="1" />
    </record>
    <record id='openacademy_course_tree_view' model='ir.ui.view'>
        <field name="name">openacademy.course.tree</field>
        <field name="model">openacademy.course</field>
        <field name="arch" type="xml">
            <tree string="Courses">
                <field name="name" />
                <field name="description"/>
                <field name="level"/>
                <field name="responsible_name"/>
            </tree>
        </field>
    </record>
    <record id='openacademy_course_form_view' model='ir.ui.view'>

            <field name="name">openacademy.course.form</field>
            <field name="model">openacademy.course</field>
            <field name="arch" type="xml">
                <form string="Courses">
                    <sheet>
                        <group>
                            <field name="name" />
                            <field name="description"/>
                            <field name="level"/>
                            <field name="responsible_id"/>
                            <field name="session_ids"/>
                        </group>
                    </sheet>
                </form>
            </field>

    </record>

    <record id='openacademy_session_form_view' model='ir.ui.view'>

            <field name="name">openacademy.session.form</field>
            <field name="model">openacademy.session</field>
            <field name="arch" type="xml">
                <form string="Sessions">
                    <sheet>
                        <group>
                            <field name="name" />
                            <field name="start_date" />
                            <field name="end_date" />
                            <field name="seats"/>
                            <field name="course_id"/>
                            <field name="instructor_id" domain="[('instructor','=',True)]"/>
                        </group>
                    </sheet>
                </form>
            </field>

    </record>

    <record id='openacademy_session_tree_view' model='ir.ui.view'>
        <field name="name">openacademy.session.tree</field>
        <field name="model">openacademy.session</field>
        <field name="arch" type="xml">
            <tree string="Sessions">
                <field name="name" />
                <field name="start_date" />
                <field name="end_date" />
                <field name="course_name"/>
                <field name="instructor_id"/>
                <field name="taken_seats" widget="progressbar"/>
            </tree>
        </field>
    </record>

    <record id="course_action_tree" model="ir.actions.act_window">
        <field name="name">Course Tree</field>
        <field name="res_model">openacademy.course</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="session_action_tree" model="ir.actions.act_window">
        <field name="name">Session Tree</field>
        <field name="res_model">openacademy.session</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record id="session1_technical" model="openacademy.session">
        <field name="name">First Session</field>
        <field name="duration">3.5</field>
        <field name="seats">10</field>
        <field name="instructor_id" ref="teacher_ludo" />
        <field name="course_id" ref="course_technical" />
        <field name="description">First session of odoo technical training</field>
    </record>

    <record id="session1_functional" model="openacademy.session">
        <field name="name">August Session</field>
        <field name="duration">4.5</field>
        <field name="seats">15</field>
        <field name="instructor_id" ref="teacher_francis" />
        <field name="course_id" ref="course_functionnal" />
        <field name="description">First session of odoo functionnal training</field>
    </record>

    <menuitem
        id="openacademy_root_menu"
        name="Open Academy"
        sequence="50"
        web_icon="openacademy,static/icon.png"/>

    <menuitem
        id="courses_menu"
        parent="openacademy_root_menu"
        action="course_action_tree"
        name="Courses" />

    <menuitem
        id="session_menu"
        parent="openacademy_root_menu"
        action="session_action_tree"
        name="Session" />
</odoo>